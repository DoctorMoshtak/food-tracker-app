<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <title>Dashboard</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="global-nav">
    <nav>
      <button onclick="goTo('/dashboard.html')">Dashboard</button>
      <button onclick="goTo('/add_meal.html')">Meal</button>
      <button onclick="goTo('/analytics.html')">Analytics</button>
      <button onclick="goTo('/presets.html')">Presets</button>
      <button onclick="goTo('/settings.html')">Settings</button>
      <button onclick="logout()">Logout</button>
    </nav>
  </header>

  <main class="page-container">
    <!-- Stats Panel -->
    <section id="stats" class="stats-panel">
      <!-- Fasting Timer -->
      <div class="stat-block">
        <h3>Fasting Since</h3>
        <div id="fastingTime" class="stat-value">--h --m --s</div>
        <div id="fastingEmoji" class="stat-emoji">ðŸ™‚</div>
      </div>
    </section>
      <!-- Meals Today -->
    <section id="stats" class="stats-panel">
      <div class="stat-block">
        <h3>Meals</h3>
        <!-- count fallback for no-pills -->
        <div id="todaysMeals" class="stat-value">0</div>
        <div id="mealPills" class="pills"></div>
        <div id="mealsEmoji" class="stat-emoji">ðŸ™‚</div>
      </div>
    
      <!-- Calories Ring -->
      <div class="stat-block">
        <h3>Calories</h3>

        <!-- Today (above ring) -->
        <div id="todaysCalories" class="ring-text today">0</div>

        <!-- SVG ring itself -->
        <svg class="calorie-ring" width="120" height="120" viewBox="0 0 120 120">
          <circle
            class="ring-bg"
            cx="60" cy="60" r="54"
            fill="none"
            stroke="#eee"
            stroke-width="12"
          />
          <circle
            class="ring-fg"
            cx="60" cy="60" r="54"
            fill="none"
            stroke="#20B2AA"
            stroke-width="12"
            stroke-dasharray="339"
            stroke-dashoffset="339"
            transform="rotate(-90 60 60)"
          />
        </svg>

        <!-- Goal (centered in ring) -->
        <div id="dailyGoal" class="ring-text goal">/ 0</div>

        <!-- Remaining (below ring) -->
        <div id="remainingCalc" class="ring-text rem">0</div>

        <div id="calEmoji" class="stat-emoji">ðŸ™‚</div>
      </div>

    </section>
    

    <!-- Recent Meals -->
    <section id="recent-logs">
      <h2>Recent Meals</h2>
      <div class="scrollable">
        <table>
          <thead>
            <tr>
              <th>Date</th><th>Time</th><th>Since</th><th>Meal</th><th>Calories</th>
            </tr>
          </thead>
          <tbody id="recent-logs-body">
            <!-- Filled by JS -->
          </tbody>
        </table>
      </div>
      <p><a href="/logs.html" id="more-logs">Moreâ€¦</a></p>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>
